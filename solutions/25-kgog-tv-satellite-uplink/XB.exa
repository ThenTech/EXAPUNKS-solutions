GRAB 301
LINK 800

COPY M X

REPL KEY
LINK 799
SEEK 1


MARK ENCODE
COPY F X
SWIZ X 321 M
COPY M T
SWIZ X 4 M
ADDI M T #DATA
TEST EOF
FJMP ENCODE
COPY -1 M
WIPE
JUMP END


MARK KEY
GRAB 199
MARK SENDCODE
COPY M X
TEST X < 0
TJMP END
SWIZ F 321 T
ADDI X T M

COPY M X
SEEK -1
SWIZ F 4 T
ADDI X T X
SWIZ X 1000 M

TEST EOF
FJMP SENDCODE
SEEK -9999
JUMP SENDCODE


MARK END